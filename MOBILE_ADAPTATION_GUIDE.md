# Руководство по адаптивной верстке для мобильных и планшетных устройств

## Обзор изменений

Были внедрены комплексные адаптивные стили и функциональность для всех указанных страниц партнерского раздела:

- `/partner/projects/{id}` - страница проекта с вкладками
- `/partner/dashboard` - аналитический дашборд
- `/partner/estimates` - управление сметами
- `/partner/employees` - управление сотрудниками  
- `/partner/employees/dashboard` - финансовый дашборд сотрудников

## Основные улучшения

### 1. Адаптивная навигация
- **Мобильный сайдбар**: Автоматически скрывается на мобильных устройствах
- **Гамбургер-меню**: Кнопка для открытия/закрытия бокового меню
- **Overlay**: Затемнение фона при открытом меню
- **Swipe-жесты**: Возможность закрыть меню свайпом влево

### 2. Адаптивные вкладки
- **Компактный вид**: На мобильных показываются только иконки
- **Гибкая сетка**: Вкладки располагаются в 2 колонки на мобильных
- **Горизонтальная прокрутка**: Для большого количества вкладок

### 3. Адаптивные таблицы
- **Переключатель видов**: Таблица/Карточки на мобильных
- **Карточный вид**: Автоматическое преобразование строк таблицы в карточки
- **Горизонтальная прокрутка**: С индикатором для больших таблиц

### 4. Улучшенные формы
- **Touch-friendly**: Увеличенные области касания (44px)
- **Автофокус**: Умный фокус на первом поле в модальных окнах
- **Оптимизация клавиатуры**: Отключение автокоррекции в поисковых полях

## CSS классы для быстрого применения

### Классы видимости
```html
<!-- Скрыть на мобильных -->
<span class="d-mobile-none">Этот текст скрыт на мобильных</span>

<!-- Показать только на мобильных -->
<span class="d-mobile-block">Этот текст только для мобильных</span>

<!-- Скрыть на планшетах -->
<span class="d-tablet-none">Скрыто на планшетах</span>
```

### Адаптивные отступы
```html
<!-- Разные отступы для мобильных -->
<div class="p-3 p-mobile-2">Отступы адаптивные</div>
<div class="mb-4 mb-mobile-2">Нижний отступ адаптивный</div>
```

### Адаптивная типографика
```html
<!-- Разные размеры шрифта -->
<h1 class="fs-1 fs-mobile-3">Адаптивный заголовок</h1>
<p class="text-center text-mobile-start">Центр на десктопе, слева на мобильном</p>
```

### Адаптивные кнопки
```html
<!-- Кнопка на всю ширину на мобильных -->
<button class="btn btn-primary btn-mobile-block">Кнопка</button>

<!-- Группа кнопок с переносом -->
<div class="btn-group flex-wrap">
    <button class="btn btn-outline-primary">Кнопка 1</button>
    <button class="btn btn-outline-primary">Кнопка 2</button>
</div>
```

### Адаптивная сетка
```html
<!-- Колонки на мобильных -->
<div class="row">
    <div class="col-md-4 col-mobile-12">На мобильном - полная ширина</div>
    <div class="col-md-4 col-mobile-6">На мобильном - половина</div>
</div>
```

## JavaScript API

### Управление мобильным сайдбаром
```javascript
// Открыть/закрыть сайдбар
window.MobileResponsive.toggleSidebar();

// Закрыть сайдбар
window.MobileResponsive.closeSidebar();
```

### Управление таблицами
```javascript
// Инициализация мобильных таблиц
window.MobileResponsive.initTables();

// Переключение вида таблицы
const tableContainer = document.querySelector('.table-responsive');
window.MobileResponsive.toggleTableView(tableContainer, 'cards');
```

### Переинициализация после AJAX
```javascript
// После загрузки нового контента через AJAX
window.MobileResponsive.reinit();
```

## Автоматические улучшения

### 1. Touch-оптимизация
- Минимальная высота кликабельных элементов: 44px
- Отключение hover-эффектов на touch-устройствах
- Увеличенные области касания для кнопок и ссылок

### 2. Viewport исправления
- Фикс высоты viewport для iOS Safari
- Предотвращение зума при фокусе на input (размер шрифта 16px)
- Поддержка переменной --vh для точной высоты

### 3. Ориентация устройства
- Автоматическая адаптация при повороте экрана
- Специальные стили для ландшафтной ориентации
- Компактный режим в ландшафте

## Брейкпоинты

```css
/* Мобильные устройства */
@media (max-width: 768px) { }

/* Планшеты */
@media (min-width: 769px) and (max-width: 1024px) { }

/* Ландшафтная ориентация мобильных */
@media (max-width: 768px) and (orientation: landscape) { }

/* Touch-устройства */
@media (hover: none) and (pointer: coarse) { }
```

## Рекомендации по использованию

### 1. При создании новых страниц
- Используйте утилитарные классы из `mobile-utilities.css`
- Тестируйте на реальных устройствах
- Применяйте `flex-wrap` для групп кнопок

### 2. При работе с таблицами
- Добавляйте класс `table-responsive` к контейнеру таблицы
- Используйте `d-none d-md-table-cell` для скрытия колонок на мобильных
- Создавайте альтернативное отображение для сложных таблиц

### 3. При работе с формами
- Используйте крупные элементы управления
- Группируйте связанные поля
- Добавляйте понятные подписи

### 4. При работе с модальными окнами
- Используйте `modal-mobile-fullscreen` для полноэкранных модалов
- Применяйте `modal-mobile-bottom` для модалов снизу
- Тестируйте работу с виртуальной клавиатурой

## Тестирование

### Устройства для тестирования
- iPhone SE (375x667)
- iPhone 12 (390x844)
- Samsung Galaxy S20 (360x800)
- iPad (768x1024)
- iPad Pro (1024x1366)

### Chrome DevTools
1. Откройте Developer Tools (F12)
2. Переключитесь в режим устройства (Ctrl+Shift+M)
3. Выберите устройство или задайте кастомный размер
4. Тестируйте поворот экрана

### Основные проверки
- [ ] Все элементы видны и доступны
- [ ] Кнопки имеют достаточный размер (44px)
- [ ] Текст читаем без зума
- [ ] Навигация работает корректно
- [ ] Таблицы отображаются корректно
- [ ] Формы удобны для заполнения
- [ ] Модальные окна работают правильно

## Поддержка старых браузеров

Код совместим с:
- iOS Safari 12+
- Chrome for Android 80+
- Samsung Internet 10+
- Firefox Mobile 68+

## Файлы изменений

### CSS файлы
- `resources/css/app.css` - основные адаптивные стили
- `resources/css/mobile-utilities.css` - утилитарные классы

### JavaScript файлы
- `public/js/mobile-responsive.js` - мобильная функциональность

### Blade шаблоны
- `resources/views/layouts/app.blade.php` - подключение скриптов
- `resources/views/partner/projects/show.blade.php` - адаптивные классы
- `resources/views/partner/analytics/dashboard.blade.php` - адаптивные классы
- `resources/views/partner/estimates/index.blade.php` - адаптивные классы
- `resources/views/partner/employees/index.blade.php` - адаптивные классы
- `resources/views/partner/employees/dashboard.blade.php` - адаптивные классы

## Дальнейшие улучшения

### Возможные дополнения
1. **Progressive Web App (PWA)** - превращение в веб-приложение
2. **Push-уведомления** - для мобильных устройств  
3. **Оффлайн-режим** - кэширование критичных данных
4. **Жесты** - добавление свайп-навигации между вкладками
5. **Анимации** - плавные переходы между состояниями

### Мониторинг производительности
- Используйте Lighthouse для аудита производительности
- Мониторьте Core Web Vitals
- Оптимизируйте загрузку ресурсов для мобильных

Все изменения готовы к использованию и обеспечивают полную адаптивность указанных страниц для мобильных и планшетных устройств.
